(function(){"use strict";var e={9772:function(e,t,a){var s=a(9242),i=a(3396);const n=e=>((0,i.dD)("data-v-31d977d9"),e=e(),(0,i.Cn)(),e),r={key:0,class:"container"},o={key:0},l={key:1,class:"selected-text"},m=n((()=>(0,i._)("p",null,"There will be a list of your favorite images.",-1))),g=[m],c={key:1,class:"loader"};function d(e,t,a,s,n,m){const d=(0,i.up)("MainCarousel"),u=(0,i.up)("SelectedCarousel"),I=(0,i.up)("PulseLoader");return e.$store.state.images.length>0?((0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(d),0!==e.$store.state.selectedImages.length?((0,i.wg)(),(0,i.iD)("div",o,[(0,i.Wm)(u)])):((0,i.wg)(),(0,i.iD)("div",l,g))])):((0,i.wg)(),(0,i.iD)("div",c,[(0,i.Wm)(I)]))}var u=a(2043);const I={key:0,class:"image-container"};function h(e,t,a,n,r,o){const l=(0,i.up)("MainCarouselImage"),m=(0,i.up)("ButtonsSlider");return(0,i.wg)(),(0,i.iD)(i.HY,null,[e.$store.state.images.length>0?((0,i.wg)(),(0,i.iD)("ul",I,[(0,i.Wm)(s.W3,{name:"fade"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.visibleMainImages,((e,t)=>((0,i.wg)(),(0,i.j4)(l,{key:e.id,image:e,"is-last-image":t!==o.visibleMainImages.length-1,class:"animate__animated animate__slideInDown"},null,8,["image","is-last-image"])))),128))])),_:1})])):(0,i.kq)("",!0),e.$store.state.images.length>0?((0,i.wg)(),(0,i.j4)(m,{key:1,prevImage:o.prevMainImage,nextImage:o.nextMainImage,isFirstImage:o.isFirstImage,isLastImage:o.isLastImage},null,8,["prevImage","nextImage","isFirstImage","isLastImage"])):(0,i.kq)("",!0)],64)}var v=a(7139);const f={class:"image-list"},p={class:"image-container"},w=["src","alt"],_={height:"20 ",width:"20"},b=["href"];function P(e,t,a,s,n,r){return(0,i.wg)(),(0,i.iD)("li",f,[(0,i._)("div",p,[(0,i._)("img",{class:(0,v.C_)(["image-element",{"dark-image":a.isLastImage}]),width:"300",src:a.image.download_url,alt:a.image.author},null,10,w),e.$store.state.images.length>0?((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",class:(0,v.C_)([{selected:r.isSelected},"image-button animate__animated"]),onClick:t[0]||(t[0]=(...e)=>r.addToFavorites&&r.addToFavorites(...e))},[((0,i.wg)(),(0,i.iD)("svg",_,[(0,i._)("use",{href:n.icon+"#heart"},null,8,b)]))],2)):(0,i.kq)("",!0)])])}var C=a.p+"img/symbol-defs.1fcf19a5.svg",x={data(){return{icon:C}},computed:{isSelected(){return this.$store.state.selectedImages.some((e=>e.id===this.image.id))}},methods:{addToFavorites(){const e=this.$store.state.selectedImages.some((e=>e.id===this.image.id));console.log(e),e?this.$store.commit("removeFromSelectedImages",this.image):this.$store.commit("addToSelectedImages",this.image)}},props:["image","isLastImage"]},S=a(89);const y=(0,S.Z)(x,[["render",P],["__scopeId","data-v-03b22b6c"]]);var $=y;const k={class:"button-container"},D=["disabled"],L={height:"30 ",width:"30"},F=["href"],M=["disabled"],T={height:"30 ",width:"30"},O=["href"];function j(e,t,a,s,n,r){return(0,i.wg)(),(0,i.iD)("div",k,[(0,i._)("button",{type:"button",class:"button-slider animate__animated",onClick:t[0]||(t[0]=(...e)=>a.prevImage&&a.prevImage(...e)),disabled:a.isFirstImage},[((0,i.wg)(),(0,i.iD)("svg",L,[(0,i._)("use",{href:n.icon+"#circle-left"},null,8,F)]))],8,D),(0,i._)("button",{type:"button",class:"button-slider animate__animated",onClick:t[1]||(t[1]=(...e)=>a.nextImage&&a.nextImage(...e)),disabled:a.isLastImage},[((0,i.wg)(),(0,i.iD)("svg",T,[(0,i._)("use",{href:n.icon+"#circle-right"},null,8,O)]))],8,M)])}var W={data(){return{icon:C}},props:["prevImage","nextImage","isFirstImage","isLastImage"]};const Z=(0,S.Z)(W,[["render",j],["__scopeId","data-v-643b423c"]]);var E=Z;function z(){const e=window.innerWidth;return e<600?2:Math.floor(e/300)}var B={components:{MainCarouselImage:$,ButtonsSlider:E},data(){return{mainCarousel:{currentImageIndex:0,imagesPerPage:this.calculateImagesPerPage()}}},methods:{calculateImagesPerPage:z,updateMainImagesPerPage(){this.mainCarousel.imagesPerPage=this.calculateImagesPerPage()},prevMainImage(){this.isFirstImage||(this.mainCarousel.currentImageIndex=(this.mainCarousel.currentImageIndex-1+this.$store.state.images.length)%this.$store.state.images.length)},nextMainImage(){this.mainCarousel.currentImageIndex=(this.mainCarousel.currentImageIndex+1)%this.$store.state.images.length},mounted(){window.addEventListener("resize",(()=>{this.updateMainImagesPerPage()}))},beforeUnmount(){window.removeEventListener("resize",(()=>{this.updateMainImagesPerPage()}))}},computed:{visibleMainImages(){const e=this.mainCarousel.currentImageIndex,t=e+this.mainCarousel.imagesPerPage;return this.$store.state.images.slice(e,t)},isFirstImage(){return 0===this.mainCarousel.currentImageIndex},isLastImage(){const e=this.$store.state.images.length-1,t=this.mainCarousel.currentImageIndex+this.mainCarousel.imagesPerPage-1;return t>=e}}};const H=(0,S.Z)(B,[["render",h],["__scopeId","data-v-1d514af0"]]);var Y=H;const q={class:"image-container"};function U(e,t,a,n,r,o){const l=(0,i.up)("SelectedCarouselImage"),m=(0,i.up)("ButtonsSlider");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("ul",q,[(0,i.Wm)(s.W3,{name:"fade"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.visibleSelectedImages,((e,t)=>((0,i.wg)(),(0,i.j4)(l,{key:e.id,image:e,"is-last-image":t!==o.visibleSelectedImages.length-1,class:"animate__animated animate__slideInDown"},null,8,["image","is-last-image"])))),128))])),_:1})]),(0,i.Wm)(m,{prevImage:o.prevSelectedImage,nextImage:o.nextSelectedImage,isFirstImage:o.isFirstSelectedImage,isLastImage:o.isLastSelectedImage},null,8,["prevImage","nextImage","isFirstImage","isLastImage"])],64)}const K={class:"image-list"},R={class:"image-container"},A=["src","alt"],G={height:"20 ",width:"20"},J=["href"];function N(e,t,a,s,n,r){return(0,i.wg)(),(0,i.iD)("li",K,[(0,i._)("div",R,[(0,i._)("img",{class:(0,v.C_)(["image-element",{"dark-image":a.isLastImage}]),width:"300",src:a.image.download_url,alt:a.image.author},null,10,A),(0,i._)("button",{type:"button",class:(0,v.C_)(["image-button animate__animated",{selected:r.isSelected}]),onClick:t[0]||(t[0]=(...e)=>r.addToFavorites&&r.addToFavorites(...e))},[((0,i.wg)(),(0,i.iD)("svg",G,[(0,i._)("use",{href:n.icon+"#heart"},null,8,J)]))],2)])])}var Q={data(){return{icon:C}},computed:{isSelected(){return this.$store.state.selectedImages.some((e=>e.id===this.image.id))}},methods:{addToFavorites(){const e=this.$store.state.selectedImages.some((e=>e.id===this.image.id));console.log(e),e?this.$store.commit("removeFromSelectedImages",this.image):this.$store.commit("addToSelectedImages",this.image)}},props:["image","isLastImage"]};const V=(0,S.Z)(Q,[["render",N],["__scopeId","data-v-f56037ee"]]);var X=V,ee={components:{SelectedCarouselImage:X,ButtonsSlider:E},data(){return{selectedCarousel:{currentImageIndex:0,imagesPerPage:this.calculateImagesPerPage()}}},computed:{visibleSelectedImages(){const e=this.selectedCarousel.currentImageIndex,t=e+this.selectedCarousel.imagesPerPage;return this.$store.state.selectedImages.slice(e,t)},isFirstSelectedImage(){return 0===this.selectedCarousel.currentImageIndex},isLastSelectedImage(){const e=this.$store.state.selectedImages.length-1,t=this.selectedCarousel.currentImageIndex+this.selectedCarousel.imagesPerPage-1;return t>=e}},methods:{calculateImagesPerPage:z,updateSelectedImagesPerPage(){this.selectedCarousel.imagesPerPage=this.calculateImagesPerPage()},prevSelectedImage(){this.selectedCarousel.currentImageIndex=(this.selectedCarousel.currentImageIndex-1+this.$store.state.selectedImages.length)%this.$store.state.selectedImages.length},nextSelectedImage(){this.selectedCarousel.currentImageIndex=(this.selectedCarousel.currentImageIndex+1)%this.$store.state.selectedImages.length}},mounted(){window.addEventListener("resize",(()=>{this.updateSelectedImagesPerPage()}))},beforeUnmount(){window.removeEventListener("resize",(()=>{this.updateSelectedImagesPerPage()}))}};const te=(0,S.Z)(ee,[["render",U],["__scopeId","data-v-30beceb6"]]);var ae=te,se={components:{MainCarousel:Y,SelectedCarousel:ae,PulseLoader:u.Z},mounted(){this.$store.dispatch("fetchData"),window.addEventListener("resize",(()=>{}))}};const ie=(0,S.Z)(se,[["render",d],["__scopeId","data-v-31d977d9"]]);var ne=ie,re=(a(560),a(65)),oe=a(4161);oe.Z.defaults.baseURL="https://picsum.photos/v2/list";const le=async()=>{try{const{data:e}=await oe.Z.get();return e}catch(e){console.log(e)}},me=(0,re.MT)({state(){return{images:[],selectedImages:[]}},mutations:{getImagesInStore(e,t){e.images=t},addToSelectedImages(e,t){e.selectedImages.push(t)},removeFromSelectedImages(e,t){console.log(t);const a=e.selectedImages.findIndex((e=>e.id===t.id));-1!==a&&e.selectedImages.splice(a,1)}},actions:{fetchData({commit:e}){le().then((t=>{e("getImagesInStore",t)})).catch((e=>{console.error("Ошибка при запросе данных с сервера:",e)}))}}});var ge=me;(0,s.ri)(ne).use(ge).mount("#app")}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,i,n){if(!s){var r=1/0;for(g=0;g<e.length;g++){s=e[g][0],i=e[g][1],n=e[g][2];for(var o=!0,l=0;l<s.length;l++)(!1&n||r>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(o=!1,n<r&&(r=n));if(o){e.splice(g--,1);var m=i();void 0!==m&&(t=m)}}return t}n=n||0;for(var g=e.length;g>0&&e[g-1][2]>n;g--)e[g]=e[g-1];e[g]=[s,i,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/carousel/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,n,r=s[0],o=s[1],l=s[2],m=0;if(r.some((function(t){return 0!==e[t]}))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(l)var g=l(a)}for(t&&t(s);m<r.length;m++)n=r[m],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(g)},s=self["webpackChunkcarousel"]=self["webpackChunkcarousel"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(9772)}));s=a.O(s)})();
//# sourceMappingURL=app.6b42a7b2.js.map